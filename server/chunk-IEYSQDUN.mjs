import './polyfills.server.mjs';
import{G as M,H as j,I as z,J as V,K as P,L as K,M as G,P as q,T as Z,U as J,W,X as A,Y,Z as T,a as U,b as h,c as B,d,e as y,f as Q,g as k,h as w,i as v,j as a,k as u,l as g,m,n as r,o,p,q as I,r as E,s as F,t as $,u as l,v as b,w as O,x as S,y as x}from"./chunk-SSFOKXZD.mjs";var dt=[],X=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=y({type:t}),t.\u0275inj=h({imports:[T.forRoot(dt),T]});let e=t;return e})();var ft=()=>["Home"],ut=()=>["search"],tt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=d({type:t,selectors:[["app-navbar"]],decls:17,vars:4,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary","navbar-inverse","bg-inverse"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","assets/img/banner-ico.png","width","30","height","30"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["routerLinkActive","active",1,"nav-item"],[1,"nav-link","active"],[1,"nav-link",3,"routerLink"]],template:function(i,s){i&1&&(r(0,"nav",0)(1,"div",1)(2,"a",2),p(3,"img",3),o(),r(4,"button",4),p(5,"span",5),o(),r(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),l(10,"SpotiApp"),o()(),r(11,"li",8)(12,"a",10),l(13,"Home"),o()(),r(14,"li",8)(15,"a",10),l(16,"Search"),o()()()()()()),i&2&&(a(12),m("routerLink",O(2,ft)),a(3),m("routerLink",O(3,ut)))},dependencies:[A,Y],encapsulation:2});let e=t;return e})();var N=(()=>{let t=class t{constructor(){this.title="spotiapp"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=d({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(i,s){i&1&&(p(0,"app-navbar"),r(1,"div",0),p(2,"router-outlet"),o())},dependencies:[J,tt]});let e=t;return e})();var C=(()=>{let t=class t{constructor(n){this.http=n,console.log("Spoty servicio listooooo")}getQuery(n){let i=`https://api.spotify.com/v1/${n}`,s=new z({Authorization:"Bearer BQALW0ROpjRGw1IdIS8aQDTNKRsA_qSp5wAS-YJU9wfZ0kkBNeku60SvUgo5KNlGwDSN49DtSgimZgfv1O0cM7AFp_11ohNKEkdKz6NQGadFBMRug6o"});return this.http.get(i,{headers:s})}getNewReleases(){return this.getQuery("browse/new-releases")}getArtistas(n){return this.getQuery(`search?q=${n}&type=artist&limit=15`)}getArtista(n){return this.getQuery(`artists/${n}`)}getTopTracks(n){return this.getQuery(`artists/${n}/top-tracks?country=us`)}};t.\u0275fac=function(i){return new(i||t)(B(V))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var R=(()=>{let t=class t{transform(n){return n&&n.length>0?n[0].url:"assets/img/noimage.png"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275pipe=Q({name:"noimage",type:t,pure:!0});let e=t;return e})();function vt(e,t){if(e&1&&(r(0,"span",8),l(1),o()),e&2){let c=t.$implicit;a(),b(c.name)}}function ht(e,t){if(e&1){let c=I();r(0,"div",2),E("click",function(){let i=k(c).$implicit,s=F();return w(s.verArtista(i))}),p(1,"img",3),S(2,"noimage"),r(3,"div",4),p(4,"h5",5),r(5,"p",6),g(6,vt,2,1,"span",7),o()()()}if(e&2){let c=t.$implicit;a(),m("src",x(2,3,c.images),v),a(3),m("textContent",c.name),a(2),m("ngForOf",c.artists)}}var D=(()=>{let t=class t{constructor(n){this.router=n,this.items=[]}verArtista(n){let i;n.type=="artist"?i=n.id:i=n.artists[0].id,this.router.navigate(["/artist",i])}};t.\u0275fac=function(i){return new(i||t)(u(W))},t.\u0275cmp=d({type:t,selectors:[["app-tarjetas"]],inputs:{items:"items"},decls:2,vars:1,consts:[[1,"card-columns","animated","fadeIn"],["class","card puntero",3,"click",4,"ngFor","ngForOf"],[1,"card","puntero",3,"click"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title",3,"textContent"],[1,"card-text"],["class","badge badge-pill badge-primary",4,"ngFor","ngForOf"],[1,"badge","badge-pill","badge-primary"]],template:function(i,s){i&1&&(r(0,"div",0),g(1,ht,7,5,"div",1),o()),i&2&&(a(),m("ngForOf",s.items))},dependencies:[M,R],encapsulation:2});let e=t;return e})();var _=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=d({type:t,selectors:[["app-loading"]],decls:3,vars:0,consts:[[1,"row","text-center","animated","fadeIn","m-5"],[1,"col"],[1,"fa","fa-sync","fa-spin","fa-5x"]],template:function(i,s){i&1&&(r(0,"div",0)(1,"div",1),p(2,"i",2),o()())},encapsulation:2});let e=t;return e})();function yt(e,t){e&1&&p(0,"app-loading")}var ot=(()=>{let t=class t{constructor(n){this.spotify=n,this.nuevasCanciones=[],this.loading=!0,this.spotify.getNewReleases().subscribe(i=>{console.log(i.albums.items),this.nuevasCanciones=i.albums.items,this.loading=!1})}};t.\u0275fac=function(i){return new(i||t)(u(C))},t.\u0275cmp=d({type:t,selectors:[["app-home"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"items"]],template:function(i,s){i&1&&(g(0,yt,1,0,"app-loading",0),p(1,"app-tarjetas",1)),i&2&&(m("ngIf",s.loading),a(),m("items",s.nuevasCanciones))},dependencies:[j,D,_],encapsulation:2});let e=t;return e})();var at=(()=>{let t=class t{constructor(n){this.spotify=n,this.artistas=[]}buscar(n){console.log(n),this.spotify.getArtistas(n).subscribe(i=>{this.artistas=i.artists.items})}};t.\u0275fac=function(i){return new(i||t)(u(C))},t.\u0275cmp=d({type:t,selectors:[["app-search"]],decls:5,vars:1,consts:[["termino",""],[1,"row","m-5"],[1,"col"],["type","text","placeholder","buscar Artista",1,"form-control",3,"keyup"],[3,"items"]],template:function(i,s){if(i&1){let ct=I();r(0,"div",1)(1,"div",2)(2,"input",3,0),E("keyup",function(){k(ct);let lt=$(3);return w(s.buscar(lt.value))}),o()()(),p(4,"app-tarjetas",4)}i&2&&(a(4),m("items",s.artistas))},dependencies:[D],encapsulation:2});let e=t;return e})();function bt(e,t){e&1&&p(0,"app-loading")}function Ct(e,t){if(e&1&&(r(0,"div",2)(1,"div",6),p(2,"img",7),S(3,"noimage"),o(),r(4,"div",3)(5,"h3"),l(6),o(),r(7,"p")(8,"a",8),l(9," Ir a la p\xE1gina del artista "),o()()(),r(10,"div",9)(11,"button",10),l(12," Regresar "),o()()()),e&2){let c=F();a(2),m("src",x(3,3,c.artista.images),v),a(4),b(c.artista.name),a(2),m("href",c.artista.external_urls.spotify,v)}}function St(e,t){if(e&1&&(r(0,"tr")(1,"th"),p(2,"img",11),S(3,"noimage"),o(),r(4,"th"),l(5),o(),r(6,"th"),l(7),o(),r(8,"th"),p(9,"audio",12),o()()),e&2){let c=t.$implicit;a(2),m("src",x(3,4,c.album.images),v),a(3),b(c.album.name||"Sin nombre de \xE1lbum"),a(2),b(c.name||"Sin nombre de canci\xF3n"),a(2),m("src",c.preview_url,v)}}var st=(()=>{let t=class t{constructor(n,i){this.router=n,this.spotify=i,this.artista={},this.topTracks=[],this.loading=!0,this.router.params.subscribe(s=>{this.getArtista(s.id),this.getTopTracks(s.id)})}getArtista(n){this.spotify.getArtista(n).subscribe(i=>{console.log(i),this.artista=i,this.loading=!1})}getTopTracks(n){this.spotify.getTopTracks(n).subscribe(i=>{this.topTracks=i.tracks,console.log(this.topTracks)})}};t.\u0275fac=function(i){return new(i||t)(u(Z),u(C))},t.\u0275cmp=d({type:t,selectors:[["app-artista"]],decls:18,vars:3,consts:[[4,"ngIf"],["class","row m-5",4,"ngIf"],[1,"row","m-5"],[1,"col"],["id","miTabla",1,"table"],[4,"ngFor","ngForOf"],[1,"col-2"],[1,"img-thumbnail","img-circle",3,"src"],["target","_blank",3,"href"],[1,"col-4","text-right"],["routerLink","/search",1,"btn","btn-outline-danger"],[1,"img-thumb",3,"src"],["controls","",3,"src"]],template:function(i,s){i&1&&(g(0,bt,1,0,"app-loading",0)(1,Ct,13,5,"div",1),p(2,"hr"),r(3,"div",2)(4,"div",3)(5,"table",4)(6,"thead")(7,"tr")(8,"th"),l(9,"Foto"),o(),r(10,"th"),l(11,"Album"),o(),r(12,"th"),l(13,"Cancion"),o(),r(14,"th"),l(15,"Vista Previa"),o()()(),r(16,"tbody"),g(17,St,10,6,"tr",5),o()()()()),i&2&&(m("ngIf",s.loading),a(),m("ngIf",!s.loading&&s.artista),a(16),m("ngForOf",s.topTracks))},dependencies:[M,j,A,_,R],encapsulation:2});let e=t;return e})();var pt=[{path:"home",component:ot},{path:"search",component:at},{path:"artist/:id",pathMatch:"full",component:st},{path:"",pathMatch:"full",redirectTo:"home"},{path:"**",pathMatch:"full",redirectTo:"home"}];var mt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=y({type:t,bootstrap:[N]}),t.\u0275inj=h({providers:[G()],imports:[K,X,T.forRoot(pt,{useHash:!0}),P]});let e=t;return e})();var xt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=y({type:t,bootstrap:[N]}),t.\u0275inj=h({imports:[mt,q]});let e=t;return e})();export{xt as a};
